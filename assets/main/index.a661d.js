window.__require=function t(e,n,o){function i(s,r){if(!n[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var d="function"==typeof __require&&__require;if(!r&&d)return d(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){return i(e[s][1][t]||t)},h,h.exports,t,e,n,o)}return n[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({button:[function(t,e){"use strict";cc._RF.push(e,"655fb/pFHJBIoRhZdhMX2Sb","button"),cc.Class({extends:cc.Component,onLoad:function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){t.keyCode!==cc.macro.KEY.enter&&t.keyCode!==cc.macro.KEY.space||cc.director.loadScene("game")},this)},game:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}],cat:[function(t,e){"use strict";cc._RF.push(e,"0127cfDBpRM+6hyPmYF3neK","cat"),cc.Class({extends:cc.Component,properties:{obstacles:{default:null,type:cc.Node},mouse:{default:null,type:cc.Node}},start:function(){this.direction={now:null,back:null},this.speed=1.5,this.color=this.node.color,this.respawn=cc.v2(315,345),this.status=null,this.go=!1,this.checkDirection=this.mouse.getComponent("mouse").checkDirection.bind(this),this.step=this.mouse.getComponent("mouse").step.bind(this)},update:function(){var t=this,e=[];this.checkDirection("left")&&e.push("left"),this.checkDirection("right")&&e.push("right"),this.checkDirection("down")&&e.push("down"),this.checkDirection("up")&&e.push("up"),this.direction.back&&e.length>1&&e.splice(e.findIndex(function(e){return e===t.direction.back}),1),"beaten"===this.status?this.node.x===this.respawn.x&&this.node.y===this.respawn.y?(this.speed=1.5,this.node.color=this.color,this.status=null,"cat-chaser"===this.node.name&&(this.direction.now=null,this.direction.back=null)):this.chaserDirection(e,this.respawn):"scared"===this.status?this.randomDirection(e):"cat-chaser"===this.node.name?this.chaserDirection(e,this.mouse):this.randomDirection(e),this.step(this.direction.now),this.backDirection(this.direction.now)},chaserDirection:function(t,e){if(t.length>1){var n=e.x-this.node.x,o=e.y-this.node.y;Math.abs(n)>Math.abs(o)&&n<0?t.some(function(t){return"left"===t})?this.direction.now="left":t.some(function(t){return"down"===t})&&o<=0?this.direction.now="down":t.some(function(t){return"up"===t})&&o>=0?this.direction.now="up":this.direction.now||(this.direction.now="right"):Math.abs(n)>Math.abs(o)&&n>0?t.some(function(t){return"right"===t})?this.direction.now="right":t.some(function(t){return"down"===t})&&o<=0?this.direction.now="down":t.some(function(t){return"up"===t})&&o>=0?this.direction.now="up":this.direction.now||(this.direction.now="left"):Math.abs(o)>Math.abs(n)&&o<0?t.some(function(t){return"down"===t})?this.direction.now="down":t.some(function(t){return"left"===t})&&n<=0?this.direction.now="left":t.some(function(t){return"right"===t})&&n>=0?this.direction.now="right":this.direction.now||(this.direction.now="up"):Math.abs(o)>Math.abs(n)&&o>0&&(t.some(function(t){return"up"===t})?this.direction.now="up":t.some(function(t){return"left"===t})&&n<=0?this.direction.now="left":t.some(function(t){return"right"===t})&&n>=0?this.direction.now="right":this.direction.now||(this.direction.now="down"))}else this.direction.now=t[0]},randomDirection:function(t){this.direction.now=t[Math.floor(Math.random()*t.length)]},backDirection:function(){switch(this.direction.now){case"left":this.direction.back="right";break;case"right":this.direction.back="left";break;case"up":this.direction.back="down";break;case"down":this.direction.back="up"}}}),cc._RF.pop()},{}],mouse:[function(t,e){"use strict";function n(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=o(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}cc._RF.push(e,"6a4c8RjQsNDloODd1pZLrxJ","mouse"),cc.Class({extends:cc.Component,properties:{obstacles:{default:null,type:cc.Node},food:{default:null,type:cc.Node},cats:{default:null,type:cc.Node},score:{default:null,type:cc.Node},theme:{default:null,type:cc.AudioClip},countdown:{default:null,type:cc.AudioClip},whistle:{default:null,type:cc.AudioClip},crunch:{default:null,type:cc.AudioClip},fart:{default:null,type:cc.AudioClip},scream:{default:null,type:cc.AudioClip}},onLoad:function(){var t=this;cc.director.getCollisionManager().enabled=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case cc.macro.KEY.left:this.direction.new="left";break;case cc.macro.KEY.right:this.direction.new="right";break;case cc.macro.KEY.down:this.direction.new="down";break;case cc.macro.KEY.up:this.direction.new="up"}},this);var e=cc.audioEngine.play(this.countdown,!1,1);cc.audioEngine.setFinishCallback(e,function(){var e=cc.audioEngine.play(t.whistle,!1,1);t.go=!0;for(var o,i=n(t.cats.children);!(o=i()).done;)o.value.getComponent("cat").go=!0;cc.audioEngine.setFinishCallback(e,function(){cc.audioEngine.play(t.theme,!0,1)})})},start:function(){this.direction={now:null,new:null},this.speed=1.5,this.scoring=0,this.factor=1,this.status=null,this.go=!1},update:function(){this.direction.new!==this.direction.now&&this.checkDirection(this.direction.new)?(this.step(this.direction.new,!0),this.direction.now=this.direction.new,this.direction.new=null):this.checkDirection(this.direction.now)&&this.step(this.direction.now),this.score.getComponent(cc.Label).string="Score: "+this.scoring},checkDirection:function(t){var e=this;if(this.go)switch(t){case"left":return!this.obstacles.children.some(function(t){return t.getBoundingBox().contains(cc.v2(e.node.x-e.node.width/2-.2,e.node.y-e.node.height/2+.2))||t.getBoundingBox().contains(cc.v2(e.node.x-e.node.width/2-.2,e.node.y+e.node.height/2-.2))});case"right":return!this.obstacles.children.some(function(t){return t.getBoundingBox().contains(cc.v2(e.node.x+e.node.width/2+.2,e.node.y-e.node.height/2+.2))||t.getBoundingBox().contains(cc.v2(e.node.x+e.node.width/2+.2,e.node.y+e.node.height/2-.2))});case"down":return!this.obstacles.children.some(function(t){return t.getBoundingBox().contains(cc.v2(e.node.x-e.node.width/2+.2,e.node.y-e.node.height/2-.2))||t.getBoundingBox().contains(cc.v2(e.node.x+e.node.width/2-.2,e.node.y-e.node.height/2-.2))});case"up":return!this.obstacles.children.some(function(t){return t.getBoundingBox().contains(cc.v2(e.node.x-e.node.width/2+.2,e.node.y+e.node.height/2+.2))||t.getBoundingBox().contains(cc.v2(e.node.x+e.node.width/2-.2,e.node.y+e.node.height/2+.2))})}},step:function(t,e){if(this.go)switch(t){case"left":this.node.x-=this.speed,e&&(0===this.node.angle&&this.direction.now&&(this.node.x+=.1),this.node.angle=180,this.node.x+=.1,this.node.y=Math.round(this.node.y));break;case"right":this.node.x+=this.speed,e&&(180===this.node.angle&&(this.node.x-=.1),this.node.angle=0,this.node.x-=.1,this.node.y=Math.round(this.node.y));break;case"down":this.node.y-=this.speed,e&&(90===this.node.angle&&(this.node.y+=.1),this.node.angle=270,this.node.y+=.1,this.node.x=Math.round(this.node.x));break;case"up":this.node.y+=this.speed,e&&(270===this.node.angle&&(this.node.y-=.1),this.node.angle=90,this.node.y-=.1,this.node.x=Math.round(this.node.x))}},onCollisionEnter:function(t){var e=this;switch(t.getComponent(cc.Sprite).spriteFrame.name){case"cookie":this.scoring+=10,t.node.destroy(),cc.audioEngine.play(this.crunch,!1,1),1===this.food.children.length&&(this.status="YOU WON",cc.audioEngine.stopAll());break;case"cheese":this.scoring+=60,t.node.destroy(),cc.audioEngine.play(this.fart,!1,1),1===this.food.children.length&&(this.status="YOU WON",cc.audioEngine.stopAll());for(var o,i=function(){var t=o.value;if(!t.getComponent("cat").status){switch(t.getComponent("cat").status="scared",t.getComponent("cat").speed=.75,t.getComponent("cat").direction.now){case"left":t.getComponent("cat").direction.now="right",t.getComponent("cat").direction.back="left";break;case"right":t.getComponent("cat").direction.now="left",t.getComponent("cat").direction.back="right";break;case"up":t.getComponent("cat").direction.now="down",t.getComponent("cat").direction.back="up";break;case"down":t.getComponent("cat").direction.now="up",t.getComponent("cat").direction.back="down"}cc.tween(t).target(t).to(0,{color:new cc.Color(255,255,255)}).delay(2).to(0,{color:t.getComponent("cat").color}).delay(.5).to(0,{color:new cc.Color(255,255,255)}).delay(.5).to(0,{color:t.getComponent("cat").color}).delay(.5).to(0,{color:new cc.Color(255,255,255)}).delay(.5).to(0,{color:t.getComponent("cat").color}).delay(.25).to(0,{color:new cc.Color(255,255,255)}).delay(.25).to(0,{color:t.getComponent("cat").color}).delay(.25).to(0,{color:new cc.Color(255,255,255)}).delay(.25).to(0,{color:t.getComponent("cat").color}).call(function(){e.factor=1,t.getComponent("cat").speed=1.5,t.getComponent("cat").status=null,"cat-chaser"===t.name&&(t.getComponent("cat").direction.now=null,t.getComponent("cat").direction.back=null)}).start()}},c=n(this.cats.children);!(o=c()).done;)i();break;case"cat":switch(t.getComponent("cat").status){case"scared":this.scoring+=500*this.factor++,cc.audioEngine.play(this.scream,!1,1),cc.Tween.stopAllByTarget(t.node),t.node.color=new cc.Color(255,255,255),t.getComponent("cat").speed=3,t.getComponent("cat").status="beaten",t.getComponent("cat").direction.now=null,t.getComponent("cat").direction.back=null,t.node.x%t.getComponent("cat").speed!=0&&(t.node.x-=t.node.x%t.getComponent("cat").speed),t.node.y%t.getComponent("cat").speed!=0&&(t.node.y-=t.node.y%t.getComponent("cat").speed);break;case null:this.status="YOU LOSE",cc.audioEngine.stopAll()}break;case"gate":switch(t.node.x){case 45:this.node.x+=16*this.node.width;break;case 585:this.node.x-=16*this.node.width}}}}),cc._RF.pop()},{}],persist:[function(t,e){"use strict";cc._RF.push(e,"bb366Elf+VJu6edWQlL/7qf","persist"),cc.Class({extends:cc.Component,properties:{mouse:{default:null,type:cc.Node}},onLoad:function(){cc.game.addPersistRootNode(this.node)},start:function(){this.status=null,this.score=0},update:function(){"game"===cc.director.getScene().name&&this.mouse.getComponent("mouse").status&&(this.status=this.mouse.getComponent("mouse").status,this.score=this.mouse.getComponent("mouse").scoring,this.mouse.getComponent("mouse").status=null,cc.director.loadScene("result"))}}),cc._RF.pop()},{}],result:[function(t,e){"use strict";cc._RF.push(e,"c1a8eeYmkRFVJt9uCzswbH4","result"),cc.Class({extends:cc.Component,properties:{status:{default:null,type:cc.Node},score:{default:null,type:cc.Node},win:{default:null,type:cc.AudioClip},losing:{default:null,type:cc.AudioClip}},onLoad:function(){var t=cc.find("Persist");switch(cc.game.removePersistRootNode(t),this.status.getComponent(cc.Label).string=t.getComponent("persist").status,this.score.getComponent(cc.Label).string="Score: "+t.getComponent("persist").score,t.getComponent("persist").status){case"YOU WON":cc.audioEngine.play(this.win,!1,1);break;case"YOU LOSE":cc.audioEngine.play(this.losing,!1,1)}var e=setTimeout(function(){return cc.game.restart()},5e3);cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){t.keyCode!==cc.macro.KEY.enter&&t.keyCode!==cc.macro.KEY.space||(clearTimeout(e),cc.game.restart())},this)}}),cc._RF.pop()},{}]},{},["button","cat","mouse","persist","result"]);